## 通俗讲解 异步，非阻塞和 IO 复用
* https://www.zybuluo.com/phper/note/595507


## 1. 阅前热身
* 为了更加形象的说明同步异步、阻塞非阻塞，我们以小明去买奶茶为例。


## 1.1 同步与异步
* 同步与异步的理解

* 同步与异步的重点在 __消息通知的方式上__，也就是调用结果通知的方式。 
    * __同步__: 当一个同步调用发出去后，调用者要一直等待调用结果的通知后，才能进行后续的执行。 

    * __异步__：当一个异步调用发出去后，调用者不能立即得到调用结果的返回。 

* __异步__ 调用，要想获得结果，一般有两种方式：
    1. 主动 __轮询__ 异步调用的结果;
    2. 被调用方通过 __callback__ 来通知调用方调用结果。

* 生活中的例子
    * 同步 买奶茶：小明点单交钱，然后等着拿奶茶；异步买奶茶：小明点单交钱，店员给小明一个小票，等小明奶茶做好了，再来取。

    * 异步 买奶茶: 小明要想知道奶茶是否做好了，有两种方式：
        1. 小明主动去问店员，一会就去问一下：“奶茶做好了吗？”...直到奶茶做好。这叫 __轮询__。
        2. 等奶茶做好了，店员喊一声：“小明，奶茶好了！”，然后小明去取奶茶。这叫 __回调__。


## 1.2 阻塞与非阻塞
* 阻塞与非阻塞的理解

* 阻塞与非阻塞的重点在于 __进/线程等待消息时候的行为__，也就是 _在等待消息的时候，当前进/线程是挂起状态，还是非挂起状态_。

    * __阻塞调用__ 在发出去后，在消息返回之前，当前进/线程会被挂起，直到有消息返回，当前进/线程才会被激活.

    * __非阻塞调用__ 在发出去后，不会阻塞当前进/线程，而会立即返回。

* 生活中的例子
    1. 阻塞买奶茶：小明点单交钱，干等着拿奶茶，什么事都不做； 
    2. 非阻塞买奶茶：小明点单交钱，等着拿奶茶，等的过程中，时不时刷刷微博、朋友圈。
    