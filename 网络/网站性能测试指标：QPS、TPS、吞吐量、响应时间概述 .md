## 网站性能测试指标：QPS、TPS、吞吐量、响应时间概述 
* https://blog.csdn.net/u012562943/article/details/78799927

* 常用的网站性能测试指标有：__并发数、响应时间、吞吐量、性能计数器__ 等。

### 一、并发数
* 并发数是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。


### 二、响应时间
* 响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。


### 三、吞吐量
* 吞吐量是指单位时间内系统能处理的请求数量，体现系统处理请求的能力，这是目前最常用的性能测试指标。

* __QPS__（每秒查询数）、__TPS__（每秒事务数）是吞吐量的常用量化指标，另外还有 __HPS__（每秒HTTP请求数）。

* 跟吞吐量有关的几个重要是：并发数、响应时间。

* QPS（TPS），并发数、响应时间它们三者之间的关系是： `PS（TPS）= 并发数 / 平均响应时间`


### 四、性能计数器
* 性能计数器是描述服务器或操作系统性能的一些数据指标，如使用内存数、进程时间，在性能测试中发挥着“监控和分析”的作用，尤其是在分析统统可扩展性、进行新能瓶颈定位时有着非常关键的作用。

* Linux中可以使用 `top` 或者 `uptime` 命令看到当前系统的负载及资源利用率情况。

* 资源利用率：指系统各种资源的使用情况，如 cpu 占用率为68%，内存占用率为 a55%，一般使用“资源实际使用/总的资源可用量”形成资源利用率。

```sh
$ top

top - 22:23:52 up 23:43,  2 users,  load average: 1.25, 1.35, 1.01
Tasks: 231 total,   1 running, 230 sleeping,   0 stopped,   0 zombie
%Cpu(s): 24.1 us,  7.4 sy,  0.0 ni, 68.3 id,  0.1 wa,  0.0 hi,  0.1 si,  0.0 st
KiB Mem : 74.5/3873632  [||||||||||||||||||||||||||||||||||||||||             ]
KiB Swap:  0.1/4025340  [                                                     ]
```


### 五、总结
* 一个网站优化的目的即是，最大限度的利用好服务器硬件资源提升资源利用率，减少用户请求的响应时间，提高系统吞吐量，提高系统并发数。


### 压力测试
* 输入命令 `ab -n 100 -c 10 http://test.com/`
    * 其中 `－n` 表示请求数，`－c` 表示并发数

* 传递 header 参数： `ab -n 1000 -c 100 -H "Content-Type: application/json" -H "Authorization: xxx" http://localhost:8080/v1/tag/1`
